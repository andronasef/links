<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GitHub Issues List - andronasef/links</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; }
        .issue-item { display: flex; align-items: center; margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        .issue-title { flex-grow: 1; margin-right: 15px; }
        .copy-btn { 
            padding: 5px 10px;
            background: #0366d6;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .copy-btn:hover { background: #0356b6; }
    </style>
</head>
<body>
    <h1>Issues for andronasef/links</h1>
    <div id="issues-list"></div>

    <script>
        async function fetchIssues() {
            try {
                const response = await fetch('https://api.github.com/repos/andronasef/links/issues');
                const issues = await response.json();
                
                const listContainer = document.getElementById('issues-list');
                
                issues.forEach(issue => {
                    const issueElement = document.createElement('div');
                    issueElement.className = 'issue-item';
                    
                    // Create title link
                    const titleLink = document.createElement('a');
                    titleLink.className = 'issue-title';
                    titleLink.href = issue.html_url;
                    titleLink.target = '_blank';
                    titleLink.textContent = issue.title;
                    
                    // Create short link
                    const shortLink = `andronasef.github.io/links/${issue.number}`;
                    
                    // Create copy button
                    const copyButton = document.createElement('button');
                    copyButton.className = 'copy-btn';
                    copyButton.textContent = 'Copy Short Link';
                    copyButton.onclick = () => {
                        navigator.clipboard.writeText(shortLink)
                            .then(() => alert('Link copied to clipboard!'))
                            .catch(err => console.error('Copy failed:', err));
                    };
                    
                    issueElement.appendChild(titleLink);
                    issueElement.appendChild(copyButton);
                    listContainer.appendChild(issueElement);
                });
            } catch (error) {
                console.error('Error fetching issues:', error);
                document.getElementById('issues-list').innerHTML = '<p>Error loading issues. Please try again later.</p>';
            }
        }

        // Initial fetch
        fetchIssues();
    </script>
</body>
</html>
